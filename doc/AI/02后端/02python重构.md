你是一名资深的Python开发工程师，你的任务是优化一个现有的Python脚本，使其更加健壮、用户友好且适用于特定的项目工作流。

请遵循以下要求对脚本进行重构：

1.  **目标目录重定向**：
    *   脚本的默认工作目录应从当前目录 (`.`) 修改为 Spring Boot 项目的特定静态资源路径：`src/main/resources/static/[具体子目录]`。
    *   脚本的运行环境是项目的根目录，因此路径需要是相对路径。

2.  **依赖前置检查**：
    *   在脚本执行核心逻辑之前，必须检查所有必需的第三方库（例如 `Pillow`, `rich`, `rjsmin` 等）是否已安装。
    *   如果任何一个库缺失，脚本应立即停止执行，并打印出清晰、友好的提示信息，告知用户需要运行的确切 `pip install ...` 命令，然后使用 `sys.exit(1)` 退出。

3.  **增加交互式安全确认**：
    *   对于任何具有破坏性或不可逆的操作（如删除文件、覆盖文件、修改文件内容），必须增加一个安全确认步骤。
    *   **a. 预览 (Dry Run)**：在请求确认之前，清晰地列出所有将要被修改或删除的文件列表。
    *   **b. 显式确认 (Explicit Confirmation)**：明确地向用户提问，例如 "您确定要执行此操作吗？ (y/N)"。用户的肯定答复（如 'y' 或 'yes'）是继续执行的唯一条件，默认选项应为取消操作。

4.  **美化命令行输出 (CLI Enhancement)**：
    *   引入 `rich` 库来美化所有输出。
    *   使用 `rich.panel.Panel` 来组织不同阶段的输出（如扫描、预览、总结报告）。
    *   使用颜色（如绿色表示成功，红色表示错误，黄色表示警告/处理中，蓝色/青色表示信息）来区分不同状态的消息，提高可读性。

5.  **代码结构**：
    *   保持代码结构清晰，将配置、核心函数和主逻辑(`main`)分离开。
