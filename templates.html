<!-- ========================================================================== -->
<!-- START: UI 组件模板 (UI Component Templates) -->
<!-- 这些 <template> 元素包含各种UI组件的HTML结构，JS将克隆并填充它们以动态生成界面。 -->
<!-- ========================================================================== -->
<template id="message-template">
    <div class="message">
        <div class="message-sender"></div>
        <div class="message-content-wrapper">
            <div class="message-content"></div>
        </div>
        <div class="timestamp"></div>
    </div>
</template>

<template id="message-file-template">
    <div class="file-info">
        <div class="thumbnail-placeholder"></div>
        <div class="file-details">
            <div class="file-name"></div>
            <div class="file-meta"></div>
        </div>
        <button class="media-action-btn"></button>
    </div>
</template>

<template id="message-audio-template">
    <div class="voice-message">
        <button class="play-voice-btn" title="播放/暂停语音">▶</button>
        <span class="voice-duration"></span>
    </div>
</template>

<template id="message-sticker-template">
    <div class="file-info sticker-info">
        <div class="thumbnail-placeholder"></div>
    </div>
</template>

<template id="chat-list-item-template">
    <li class="chat-list-item">
        <div class="chat-list-avatar"></div>
        <div class="chat-list-info">
            <div class="chat-list-name">
                <span class="name-text"></span>
                <span class="online-dot" title="已连接"></span>
            </div>
            <div class="chat-list-preview"></div>
        </div>
        <div class="chat-list-meta">
            <div class="chat-list-time"></div>
            <div class="chat-list-badge"></div>
        </div>
    </li>
</template>

<template id="group-member-item-template">
    <div class="member-item-detail">
        <span class="member-name"></span>
        <span class="owner-badge">群主</span>
        <span class="member-status"></span>
        <span class="member-actions">
            <button class="reconnect-member-btn-detail" title="重新连接">🔄</button>
            <button class="remove-member-btn-detail" title="移除成员">✕</button>
        </span>
    </div>
</template>

<template id="ai-mention-suggestion-item-template">
    <div class="mention-suggestion-item">
        <div class="mention-suggestion-avatar"></div>
        <span class="mention-suggestion-name"></span>
    </div>
</template>

<template id="notification-template">
    <div class="notification">
        <span class="notification-icon"></span>
        <span class="notification-message"></span>
        <button class="notification-close" title="关闭">×</button>
    </div>
</template>

<template id="audio-preview-template">
    <div class="voice-message-preview">
        <span>🎙️ 语音消息 (<span class="preview-duration"></span>)</span>
        <audio controls class="preview-audio-player"></audio>
        <button class="btn-play-preview">播放</button>
        <button class="btn-cancel-preview">取消</button>
    </div>
</template>

<template id="file-preview-template">
    <div class="file-preview-item">
        <span class="preview-content">
            <!-- Image or Icon+Text will be inserted here -->
        </span>
        <button class="cancel-file-preview" title="移除附件">✕</button>
    </div>
</template>

<template id="resource-preview-item-template">
    <div class="resource-preview-item">
        <div class="resource-content-area">
            <!-- Thumbnail, text snippet, or file icon will be inserted here -->
        </div>
        <div class="resource-timestamp"></div>
    </div>
</template>

<template id="group-ai-prompt-editor-template">
    <div class="ai-prompt-editor-item">
        <h5 class="ai-name-header">AI角色: <span class="ai-name"></span></h5>
        <textarea class="group-ai-prompt-textarea" rows="3" placeholder="输入此AI在群组中的特定行为指示..."></textarea>
        <div class="ai-prompt-actions">
            <button class="btn btn-primary btn-sm save-prompt-btn">保存指示</button>
            <button class="btn btn-secondary btn-sm reset-prompt-btn">重置为默认</button>
        </div>
    </div>
</template>

<template id="memory-book-item-template">
    <div class="memory-set-item">
        <header class="memory-set-header">
            <span class="memory-set-name"></span>
            <div class="memory-set-actions">
                <button class="record-btn" title="记录本次对话">记录</button>
            </div>
        </header>
        <div class="memory-book-container">
            <textarea class="memory-book-textarea" rows="4" placeholder="点击“记录”以生成，或在此手动编辑..."></textarea>
            <div class="memory-book-controls">
                <label>
                    <input type="radio" class="enable-memory-book-toggle"> 启用记忆
                </label>
                <button class="save-memory-book-btn">保存修改</button>
            </div>
        </div>
    </div>
</template>

<template id="memory-set-list-item-modal-template">
    <div class="memory-set-list-item-modal">
        <span class="memory-set-name-modal"></span>
        <div class="memory-set-actions-modal">
            <button class="btn btn-secondary btn-sm edit-btn" title="编辑">编辑</button>
            <button class="btn btn-danger btn-sm delete-btn" title="删除">删除</button>
        </div>
    </div>
</template>

<template id="memory-set-form-template">
    <div class="memory-set-form-inner">
        <h4 class="form-title"></h4>
        <input type="text" class="form-control memory-set-name-input" placeholder="记忆书名称 (例如: '个人喜好')">
        <input type="text" class="form-control memory-set-elements-input" placeholder="关键要素, 用逗号分隔 (例如: '喜欢的颜色, 喜欢的食物')">
        <div class="modal-footer form-actions">
            <button class="btn btn-secondary cancel-btn">取消</button>
            <button class="btn btn-primary save-btn"></button>
        </div>
    </div>
</template>

<template id="calendar-day-cell-template">
    <div class="calendar-day-rps"></div>
</template>

<template id="searchable-select-template">
    <div class="searchable-select-tts">
        <input type="text" class="searchable-select-input-tts" autocomplete="off">
        <div class="searchable-select-options-container-tts" style="display: none;"></div>
    </div>
</template>