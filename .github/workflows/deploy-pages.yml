# å·¥ä½œæµåç§°
name: Deploy Static Website to GitHub Pages

# è§¦å‘æ¡ä»¶ï¼šå½“æ¨é€åˆ° main åˆ†æ”¯æ—¶è§¦å‘
on:
  push:
    branches:
      - main  # å¦‚æœä½ çš„ä¸»åˆ†æ”¯æ˜¯ masterï¼Œè¯·ä¿®æ”¹ä¸º master

# æƒé™è®¾ç½®ï¼Œå…è®¸ Action å†™å…¥ gh-pages åˆ†æ”¯
permissions:
  contents: write

# å·¥ä½œä»»åŠ¡
jobs:
  build-and-deploy:
    # è¿è¡Œç¯å¢ƒ
    runs-on: ubuntu-latest

    # æ­¥éª¤
    steps:
      # ç¬¬ä¸€æ­¥ï¼šæ£€å‡ºä½ çš„ä»£ç 
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v4

      # ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²åˆ° GitHub Pages
      # è¿™ä¸ª Action ä¼šæŠŠæŒ‡å®šç›®å½•çš„å†…å®¹æ¨é€åˆ° gh-pages åˆ†æ”¯
      - name: Deploy ğŸš€
        uses: peaceiris/actions-gh-pages@v3
        with:
          # ç”¨äºéƒ¨ç½²çš„ GitHub Tokenï¼ŒAction ä¼šè‡ªåŠ¨åˆ›å»º
          github_token: ${{ secrets.GITHUB_TOKEN }}

          # ã€æœ€å…³é”®çš„ä¸€æ­¥ã€‘
          # æŒ‡å®šè¦å‘å¸ƒåˆ°ç½‘ç«™æ ¹ç›®å½•çš„æ–‡ä»¶å¤¹
          # è¿™é‡Œæˆ‘ä»¬æŒ‡å‘ä½ çš„ static æ–‡ä»¶å¤¹
          publish_dir: ./src/main/resources/static

          # ï¼ˆå¯é€‰ï¼‰å¦‚æœä½ æƒ³åœ¨éƒ¨ç½²æ—¶ä¿ç•™ .github è¿™æ ·çš„æ–‡ä»¶å¤¹ï¼Œå¯ä»¥è®¾ç½®ä¸º true
          # keep_files: true

          # ï¼ˆå¯é€‰ï¼‰å¦‚æœä½ æƒ³æ·»åŠ è‡ªå®šä¹‰åŸŸåï¼Œå¯ä»¥åœ¨è¿™é‡ŒæŒ‡å®š
          # cname: example.com