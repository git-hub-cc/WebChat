/*
================================================================================
|                                                                              |
|             ğŸ¨ åŸç¥ - æµ®ä¸–æ‘¹ç»˜ (æµ…è‰²ä¸»é¢˜) - ä¼˜åŒ–ç‰ˆ ğŸ¨                        |
|             (Genshin Impact - Ukiyo-e Sketch - Light Theme - Optimized)      |
|                                                                              |
================================================================================
*
* åŠ è½½é¡ºåº: æ­¤æ–‡ä»¶åº”åœ¨æ‰€æœ‰åŸºç¡€CSS (variables.css, core.css ç­‰) ä¹‹ååŠ è½½ã€‚
* Loading Order: This file should be loaded AFTER all base CSS files.
*
*/

:root {
    /* ========================================================== */
    /* 1. é¢œè‰²å˜é‡è¦†ç›– (Color Variable Overrides)                 */
    /*    - è¿™äº›å˜é‡ç›´æ¥æ›¿æ¢ variables.css ä¸­çš„åŒåå˜é‡           */
    /* ========================================================== */

    /* --- 1a. ä¸»é¢˜è‰²æ¿å®šä¹‰ (Theme Palette Definition) --- */
    --gi-gold-primary-rgb: 222, 178, 111;
    --gi-gold-secondary-rgb: 240, 210, 150;
    --gi-gold-dark-rgb: 160, 120, 65;
    --gi-parchment-light-rgb: 249, 245, 235;
    --gi-parchment-medium-rgb: 243, 235, 220;
    --gi-parchment-dark-rgb: 228, 218, 200;
    --gi-brown-dark-rgb: 85, 68, 51;
    --gi-brown-medium-rgb: 130, 100, 75;
    --gi-white-rgb: 255, 255, 255;
    --gi-dendro-rgb: 153, 204, 51;
    --gi-pyro-rgb: 255, 123, 89;

    /* --- 1b. è¦†ç›–åŸºç¡€è¯­ä¹‰å˜é‡ (Overriding Base Semantic Variables) --- */
    --brand-rgb: var(--gi-gold-primary-rgb);
    --brand-dark-rgb: var(--gi-gold-dark-rgb);
    --text-on-brand-rgb: var(--gi-brown-dark-rgb);

    --surface-1-rgb: var(--gi-parchment-medium-rgb);
    --surface-2-rgb: var(--gi-white-rgb);
    --surface-hover-rgb: var(--gi-parchment-dark-rgb);
    --surface-active-rgb: var(--gi-gold-secondary-rgb);

    --text-primary-rgb: var(--gi-brown-dark-rgb);
    --text-secondary-rgb: var(--gi-brown-medium-rgb);
    --text-on-accent-rgb: var(--gi-brown-dark-rgb);

    --border-subtle-rgb: var(--gi-parchment-dark-rgb);
    --border-strong-rgb: var(--gi-gold-dark-rgb);

    --accent-success-rgb: var(--gi-dendro-rgb);
    --accent-danger-rgb: var(--gi-pyro-rgb);

    /* --- 1c. è¦†ç›–åŸºç¡€ç»„ä»¶çº§å˜é‡ (Overriding Base Component-level Variables) --- */
    /* æ³¨æ„: åŸºç¡€ variables.css ä¼šè‡ªåŠ¨è®¡ç®—å¤§éƒ¨åˆ†é¢œè‰²ï¼Œè¿™é‡Œåªè¦†ç›–éœ€è¦ç‰¹æ®Šå¤„ç†çš„ */
    --header-bg-color: linear-gradient(to bottom, rgba(var(--gi-parchment-medium-rgb),0.8), rgba(var(--gi-parchment-light-rgb),0.8));
    --chat-bg-color: rgb(var(--gi-parchment-light-rgb));

    --sent-bg-color: linear-gradient(135deg, rgb(var(--gi-gold-secondary-rgb)), rgba(var(--gi-gold-secondary-rgb), 0.8));
    --text-on-sent: rgb(var(--gi-brown-dark-rgb));

    --disabled-bg: rgb(var(--gi-parchment-dark-rgb));
    --disabled-text-rgb: var(--gi-brown-medium-rgb); /* è¦†ç›– --disabled-text-rgb è€Œä¸æ˜¯ --disabled-text */

    /* ========================================================== */
    /* 2. æ’ç‰ˆä¸å¸ƒå±€å˜é‡è¦†ç›– (Typography & Layout Overrides)      */
    /* ========================================================== */
    --font-family-base: "HYWenHei-85W", "Noto Serif SC", "Source Han Serif CN", "Cinzel", serif;
    --font-size-base: 15px;

    --border-radius-md: 6px;

    --box-shadow-sm: 0 1px 3px 0 rgba(var(--gi-brown-dark-rgb), 0.1), 0 1px 2px 0 rgba(var(--gi-brown-dark-rgb), 0.1);
    --box-shadow-md: 0 3px 6px -1px rgba(var(--gi-brown-dark-rgb), 0.1), 0 2px 4px -1px rgba(var(--gi-brown-dark-rgb), 0.1);
    --box-shadow-lg: 0 0 30px rgba(var(--gi-brown-dark-rgb), 0.15);
}

/*
================================================================================
|                            ğŸ‘¤ è§’è‰²ä¸“å±æ ·å¼ ğŸ‘¤                              |
================================================================================
*/
/* --- è§’è‰²é¢œè‰²å˜é‡å®šä¹‰ --- */
:root {
    --paimon-avatar-bg: #2d3b53;
    --paimon-avatar-text: #fafaff;
    --paimon-accent: #ffd700;
    --paimon-msg-bg: linear-gradient(135deg, #f0f4ff, #e6e9f5);

    --zhongli-avatar-bg: #3c322d;
    --zhongli-avatar-text: #ffc343;
    --zhongli-msg-bg: linear-gradient(135deg, #fff8e8, #fef2d4);

    --venti-avatar-bg: #72e0c5;
    --venti-avatar-text: #006450;
    --venti-msg-bg: linear-gradient(135deg, #e0f8f3, #cff2ea);

    --raiden-avatar-bg: #5a468c;
    --raiden-avatar-text: #b08cff;
    --raiden-msg-bg: linear-gradient(135deg, #f0eaff, #e6dff5);

    --hutao-avatar-bg: #8b0000;
    --hutao-avatar-text: #ffffff;
    --hutao-accent: #ff7b59;
    --hutao-msg-bg: linear-gradient(135deg, #ffe8e0, #ffd8cc);

    --kazuha-avatar-bg: #cd5c5c;
    --kazuha-avatar-text: #ffffff;
    --kazuha-accent: #72e0c5;
    --kazuha-msg-bg: linear-gradient(135deg, #ffebe0, #ffddd0);

    --traveler-avatar-bg: #a08264;
    --traveler-avatar-text: #ffffff;
    --traveler-accent: #72e0c5;
    --traveler-msg-bg: linear-gradient(135deg, #e8f5f3, #d8f0eb);
}

/* --- æ¨¡æ¿ --- */
.AI_Template .chat-list-avatar, .chat-avatar-main.AI_Template, .details-avatar.AI_Template {
    background-color: var(--template-avatar-bg); color: var(--template-avatar-text); border: 2px solid var(--template-accent); box-shadow: 0 0 5px color-mix(in srgb, var(--template-accent), transparent 30%);
}
.chat-list-item.active.AI_Template { background: var(--template-avatar-bg); }
.chat-list-item.active.AI_Template .chat-list-name, .chat-list-item.active.AI_Template .chat-list-preview { color: var(--template-avatar-text) !important; }
.chat-header-main.character-active.AI_Template .chat-title-main, .details-panel.character-active.AI_Template #detailsName { color: var(--template-avatar-bg); }
.message.received.character-message.AI_Template { background: var(--template-msg-bg); border-color: var(--template-accent); }
.message.received.character-message.AI_Template .message-sender { color: var(--template-avatar-bg); }


/* --- ğŸ’  Paimon - æ´¾è’™ --- */
.AI_Paimon_åŸç¥ .chat-list-avatar, .chat-avatar-main.AI_Paimon_åŸç¥, .details-avatar.AI_Paimon_åŸç¥ {
    background-color: var(--paimon-avatar-bg); color: var(--paimon-avatar-text); border: 2px solid var(--paimon-accent); box-shadow: 0 0 5px color-mix(in srgb, var(--paimon-accent), transparent 30%);
}
.chat-list-item.active.AI_Paimon_åŸç¥ { background: var(--paimon-avatar-bg); }
.chat-list-item.active.AI_Paimon_åŸç¥ .chat-list-name, .chat-list-item.active.AI_Paimon_åŸç¥ .chat-list-preview { color: var(--paimon-avatar-text) !important; }
.chat-header-main.character-active.AI_Paimon_åŸç¥ .chat-title-main, .details-panel.character-active.AI_Paimon_åŸç¥ #detailsName { color: var(--paimon-avatar-bg); }
.message.received.character-message.AI_Paimon_åŸç¥ { background: var(--paimon-msg-bg); border-color: var(--paimon-accent); }
.message.received.character-message.AI_Paimon_åŸç¥ .message-sender { color: var(--paimon-avatar-bg); }


/* --- âš–ï¸ Zhongli - é’Ÿç¦» --- */
.AI_Zhongli_åŸç¥ .chat-list-avatar, .chat-avatar-main.AI_Zhongli_åŸç¥, .details-avatar.AI_Zhongli_åŸç¥ {
    background-color: var(--zhongli-avatar-bg); color: var(--zhongli-avatar-text); border: 2px solid var(--zhongli-avatar-text); box-shadow: 0 0 5px color-mix(in srgb, var(--zhongli-avatar-text), transparent 30%);
}
.chat-list-item.active.AI_Zhongli_åŸç¥ { background: var(--zhongli-avatar-bg); }
.chat-list-item.active.AI_Zhongli_åŸç¥ .chat-list-name, .chat-list-item.active.AI_Zhongli_åŸç¥ .chat-list-preview { color: var(--zhongli-avatar-text) !important; }
.chat-header-main.character-active.AI_Zhongli_åŸç¥ .chat-title-main, .details-panel.character-active.AI_Zhongli_åŸç¥ #detailsName { color: var(--zhongli-avatar-bg); }
.message.received.character-message.AI_Zhongli_åŸç¥ { background: var(--zhongli-msg-bg); border-color: var(--zhongli-avatar-text); }
.message.received.character-message.AI_Zhongli_åŸç¥ .message-sender { color: var(--zhongli-avatar-bg); }


/* --- ğŸƒ Venti - æ¸©è¿ª --- */
.AI_Venti_åŸç¥ .chat-list-avatar, .chat-avatar-main.AI_Venti_åŸç¥, .details-avatar.AI_Venti_åŸç¥ {
    background-color: var(--venti-avatar-bg); color: var(--venti-avatar-text); border: 2px solid var(--venti-avatar-bg); box-shadow: 0 0 5px color-mix(in srgb, var(--venti-avatar-bg), transparent 30%);
}
.chat-list-item.active.AI_Venti_åŸç¥ { background: var(--venti-avatar-text); }
.chat-list-item.active.AI_Venti_åŸç¥ .chat-list-name, .chat-list-item.active.AI_Venti_åŸç¥ .chat-list-preview { color: var(--venti-avatar-bg) !important; }
.chat-header-main.character-active.AI_Venti_åŸç¥ .chat-title-main, .details-panel.character-active.AI_Venti_åŸç¥ #detailsName { color: var(--venti-avatar-text); }
.message.received.character-message.AI_Venti_åŸç¥ { background: var(--venti-msg-bg); border-color: var(--venti-avatar-bg); }
.message.received.character-message.AI_Venti_åŸç¥ .message-sender { color: var(--venti-avatar-text); }


/* --- âš¡ Raiden Shogun - é›·ç”µå°†å†› --- */
.AI_RaidenShogun_åŸç¥ .chat-list-avatar, .chat-avatar-main.AI_RaidenShogun_åŸç¥, .details-avatar.AI_RaidenShogun_åŸç¥ {
    background-color: var(--raiden-avatar-bg); color: var(--raiden-avatar-text); border: 2px solid var(--raiden-avatar-text); box-shadow: 0 0 5px color-mix(in srgb, var(--raiden-avatar-text), transparent 30%);
}
.chat-list-item.active.AI_RaidenShogun_åŸç¥ { background: var(--raiden-avatar-bg); }
.chat-list-item.active.AI_RaidenShogun_åŸç¥ .chat-list-name, .chat-list-item.active.AI_RaidenShogun_åŸç¥ .chat-list-preview { color: var(--raiden-avatar-text) !important; }
.chat-header-main.character-active.AI_RaidenShogun_åŸç¥ .chat-title-main, .details-panel.character-active.AI_RaidenShogun_åŸç¥ #detailsName { color: var(--raiden-avatar-bg); }
.message.received.character-message.AI_RaidenShogun_åŸç¥ { background: var(--raiden-msg-bg); border-color: var(--raiden-avatar-text); }
.message.received.character-message.AI_RaidenShogun_åŸç¥ .message-sender { color: var(--raiden-avatar-bg); }


/* --- ğŸ”¥ Hu Tao - èƒ¡æ¡ƒ --- */
.AI_HuTao_åŸç¥ .chat-list-avatar, .chat-avatar-main.AI_HuTao_åŸç¥, .details-avatar.AI_HuTao_åŸç¥ {
    background-color: var(--hutao-avatar-bg); color: var(--hutao-avatar-text); border: 2px solid var(--hutao-accent); box-shadow: 0 0 5px color-mix(in srgb, var(--hutao-accent), transparent 30%);
}
.chat-list-item.active.AI_HuTao_åŸç¥ { background: var(--hutao-avatar-bg); }
.chat-list-item.active.AI_HuTao_åŸç¥ .chat-list-name, .chat-list-item.active.AI_HuTao_åŸç¥ .chat-list-preview { color: var(--hutao-avatar-text) !important; }
.chat-header-main.character-active.AI_HuTao_åŸç¥ .chat-title-main, .details-panel.character-active.AI_HuTao_åŸç¥ #detailsName { color: var(--hutao-avatar-bg); }
.message.received.character-message.AI_HuTao_åŸç¥ { background: var(--hutao-msg-bg); border-color: var(--hutao-accent); }
.message.received.character-message.AI_HuTao_åŸç¥ .message-sender { color: var(--hutao-avatar-bg); }


/* --- ğŸ Kazuha - æ«åŸä¸‡å¶ --- */
.AI_Kazuha_åŸç¥ .chat-list-avatar, .chat-avatar-main.AI_Kazuha_åŸç¥, .details-avatar.AI_Kazuha_åŸç¥ {
    background-color: var(--kazuha-avatar-bg); color: var(--kazuha-avatar-text); border: 2px solid var(--kazuha-accent); box-shadow: 0 0 5px color-mix(in srgb, var(--kazuha-accent), transparent 30%);
}
.chat-list-item.active.AI_Kazuha_åŸç¥ { background: var(--kazuha-avatar-bg); }
.chat-list-item.active.AI_Kazuha_åŸç¥ .chat-list-name, .chat-list-item.active.AI_Kazuha_åŸç¥ .chat-list-preview { color: var(--kazuha-avatar-text) !important; }
.chat-header-main.character-active.AI_Kazuha_åŸç¥ .chat-title-main, .details-panel.character-active.AI_Kazuha_åŸç¥ #detailsName { color: var(--kazuha-avatar-bg); }
.message.received.character-message.AI_Kazuha_åŸç¥ { background: var(--kazuha-msg-bg); border-color: var(--kazuha-accent); }
.message.received.character-message.AI_Kazuha_åŸç¥ .message-sender { color: var(--kazuha-avatar-bg); }


/* --- æ—… Traveler - æ—…è¡Œè€… (é€šç”¨) --- */
.AI_Traveler_åŸç¥ .chat-list-avatar, .chat-avatar-main.AI_Traveler_åŸç¥, .details-avatar.AI_Traveler_åŸç¥ {
    background-color: var(--traveler-avatar-bg); color: var(--traveler-avatar-text); border: 2px solid var(--traveler-accent); box-shadow: 0 0 5px color-mix(in srgb, var(--traveler-accent), transparent 30%);
}
.chat-list-item.active.AI_Traveler_åŸç¥ { background: var(--traveler-avatar-bg); }
.chat-list-item.active.AI_Traveler_åŸç¥ .chat-list-name, .chat-list-item.active.AI_Traveler_åŸç¥ .chat-list-preview { color: var(--traveler-avatar-text) !important; }
.chat-header-main.character-active.AI_Traveler_åŸç¥ .chat-title-main, .details-panel.character-active.AI_Traveler_åŸç¥ #detailsName { color: var(--traveler-avatar-bg); }
.message.received.character-message.AI_Traveler_åŸç¥ { background: var(--traveler-msg-bg); border-color: var(--traveler-accent); }
.message.received.character-message.AI_Traveler_åŸç¥ .message-sender { color: var(--traveler-avatar-bg); }